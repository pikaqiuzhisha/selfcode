<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.chargedot.frogimportservice.mapper.ChargeCardMapper">

    <!--批量导入卡号信息-->
    <insert id="importChargeCardData">
        insert into dw_card (card_number,user_id)
        values
        <foreach item="chargeCard" index="index" collection="chargeCardList" separator=",">
            (#{chargeCard.cardNumber},#{chargeCard.userId})
        </foreach>

    </insert>

    <!--新增卡号信息-->
    <insert id="addChargeCardInfo">
        insert into dw_card (card_number,user_id,enterprise_id,type,begined_at,finished_at)
        values (#{cardNumber},#{userId},#{enterpriseId},#{type},#{beginedAt},#{finishedAt})
    </insert>

    <!--查询卡号-->
    <select id="selectChargeCardNumberCount" resultType="int">
        select count(card_number) from dw_card where card_number = #{cardNumber}
    </select>
</mapper>
